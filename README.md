# Xray Config Generator

CLI-—É—Ç–∏–ª–∏—Ç–∞ –Ω–∞ Rust –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ Xray –∏–∑ —Å–ø–∏—Å–∫–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ VPN-—Å–µ—Ä–≤–µ—Ä—ã.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–∞—Ä—Å–∏–Ω–≥ URL —Å–µ—Ä–≤–µ—Ä–æ–≤ —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏ `ss://` –∏ `vless://`
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è Xray
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –ø–æ –≥—Ä—É–ø–ø–∞–º —Å–µ—Ä–≤–µ—Ä–æ–≤ (Cloudflare, WARP, –æ—Å—Ç–∞–ª—å–Ω—ã–µ)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cargo build --release
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
cargo run -- --url "https://raw.githubusercontent.com/STR97/STRUGOV/refs/heads/main/STR.BYPASS" --output "./configs"
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- `--url` - URL –∫ —Ñ–∞–π–ª—É —Å–æ —Å–ø–∏—Å–∫–æ–º —Å–µ—Ä–≤–µ—Ä–æ–≤
- `--output` - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `./configs`)

## –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã

### 04_outbounds.json
–°–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤—Å–µ—Ö outbound-—Å–µ—Ä–≤–µ—Ä–æ–≤:
- Shadowsocks —Å–µ—Ä–≤–µ—Ä—ã
- VLESS —Å–µ—Ä–≤–µ—Ä—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Reality/TLS
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã `direct` –∏ `block`

### 05_routing.json
–°–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∏:
- `claude-balance` - –¥–ª—è Cloudflare —Å–µ—Ä–≤–µ—Ä–æ–≤
- `warp-balance` - –¥–ª—è WARP —Å–µ—Ä–≤–µ—Ä–æ–≤
- `proxy-balance` - –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–∫—Å–∏
- –ü—Ä–∞–≤–∏–ª–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–µ–∫–ª–∞–º—ã
- –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

- **Shadowsocks** (`ss://`)
  - –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ base64
  - –í—Å–µ –º–µ—Ç–æ–¥—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

- **VLESS** (`vless://`)
  - Reality —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π fingerprint, SNI, publicKey, shortId, spiderX
  - TLS —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ALPN, fingerprint, allowInsecure
  - WebSocket, gRPC, TCP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã

## –ü—Ä–∏–º–µ—Ä—ã

–¢–µ—Å—Ç–æ–≤—ã–µ URL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

```
ss://Y2hhY2hhMjAtaWV0Zi1wb2x5MTMwNTpUWTI5bWJaYmdwbGhjNHZUVDN4aDNz@62.133.60.43:36456#TEST
vless://uuid@host:443?encryption=none&security=reality&sni=example.com&fp=firefox&pbk=key&sid=id&type=grpc&serviceName=grpc#TEST
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Ä–æ–≤–Ω–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
RUST_LOG=debug cargo run -- --url "..." --output "./configs"
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ main.rs           # CLI –∏ –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ parser.rs         # –ü–∞—Ä—Å–∏–Ω–≥ URL —Å–µ—Ä–≤–µ—Ä–æ–≤
‚îî‚îÄ‚îÄ config/
    ‚îú‚îÄ‚îÄ mod.rs        # –≠–∫—Å–ø–æ—Ä—Ç –º–æ–¥—É–ª–µ–π
    ‚îú‚îÄ‚îÄ outbound.rs   # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è outbound –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    ‚îî‚îÄ‚îÄ routing.rs    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è routing –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

## CI/CD

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π:
- üïê –ó–∞–ø—É—Å–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:00 UTC)
- üîò –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ GitHub UI
- üì¶ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–ª–∏–∑—ã —Å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [CI_CD.md](CI_CD.md)

## Docker

–î–æ—Å—Ç—É–ø–µ–Ω multi-stage Dockerfile:

```bash
docker build -t xray-config-gen .
docker run --rm -v $(pwd)/output:/app/configs xray-config-gen \
  --url "https://example.com/servers.txt" \
  --output /app/configs
```

